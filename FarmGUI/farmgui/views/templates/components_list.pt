<metal:block use-macro="main_template">
    <div metal:fill-slot="content">
        <h1>Farm Components</h1>

        <a id="add_component_button" data-toggle="modal" href="#add_component_modal" class="btn btn-primary">
            Add Component
        </a>

        <div id="component_list">
            <div tal:repeat="c components" id="component_${c.id}">
                ${panel('component_panel', c)}
            </div>
        </div>

        <div class="modal" id="add_component_modal">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
                        <h4 class="modal-title">Define new Component</h4>
                    </div>
                    <div class="modal-body">
                        <tal:form replace="structure add_component_form"/>
                    </div>
                </div>
            </div>
        </div>

    </div>
</metal:block>