<metal:block use-macro="main_template">
    <div metal:fill-slot="content">
        <h1>Farm Components</h1>

        <a data-toggle="modal" href="#add_component_modal" class="btn btn-primary">Add Component</a>

        <table class="table table-striped table-bordered table-hover">
            <tbody>
            <tr tal:repeat="c components">
                <td>${panel('component_panel', c.id)}</td>
            </tr>
            </tbody>
        </table>

        <div class="modal" id="add_component_modal" data-add-component-error="${add_component_error}">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
                        <h4 class="modal-title">Define new Component</h4>
                    </div>
                    <div class="modal-body">
                        <tal:form replace="structure add_component_form"/>
                    </div>
                </div>
            </div>
        </div>

    </div>
</metal:block>